!function (e) { e.Util = { msjError: function (a, t) { e("#alertTitle").html(a), e("#alertBody").html(t), e("#alertError").modal("show") }, msjProcseo: function (a, t) { e("#alertTitle").html(a), e("#alertBody").html(t), e("#alertError").modal("show") }, formatofecha: function (e) { var a = ""; if ("" != e) { var t = e.split("-"); a = t[2] + "-" + t[1] + "-" + t[0] } return a }, verificarfecha: function (e) { var a = e.split("/"); return new Date(a[1] + "/" + a[0] + "/" + a[2]) }, paginador: function (a, t, r) { var n = void 0 !== r ? r : "table", l = e("#" + n + "_length").length; e("#" + t).find("tr").length; switch (l) { case 0: case 1: e("#" + n).DataTable({ searching: !1, infoEmpty: !1, language: { lengthMenu: "Visualizar _MENU_ ", zeroRecords: "No se encontraron resultados", info: "Mostrando página _PAGE_ de _PAGES_", infoEmpty: "No hay registros disponibles", infoFiltered: "(Filtro desde _MAX_ total registros)" } }) } }, verificarNumber: function (e) { var a = !0; return Number(e) + "" == "NaN" && (a = !1), a }, verificarfechaII: function (e) { var a = !0, t = e.split("/"); return "Invalid Date" == new Date(t[1] + "/" + t[0] + "/" + t[2]) && (a = !1), a }, verificarrangofechas: function (e, a) { var t, r, n = !0, l = e.split("/"), o = a.split("/"); return l.length > 0 && o.length > 0 ? (l = e.split("-"), o = a.split("-"), t = new Date(l[1] + "/" + l[2] + "/" + l[0]), r = new Date(o[1] + "/" + o[2] + "/" + o[0])) : (t = new Date(l[1] + "/" + l[0] + "/" + l[2]), r = new Date(o[1] + "/" + o[0] + "/" + o[2])), "Invalid Date" !== t && "Invalid Date" !== r || (n = !1), t > r && (n = !1), n }, devuelvefechajson: function (e) { var a = ""; if (null != e) { var t = new Date(parseInt(e.substr(6))), r = t.getDate(); r = ("" + r).length <= 1 ? "0" + r : r; var n = t.getMonth() + 1; n = ("" + n).length <= 1 ? "0" + n : n; var l = t.getFullYear(), o = t.getHours(); o = ("" + o).length <= 1 ? "0" + o : o; var i = t.getMinutes(); i = ("" + i).length <= 1 ? "0" + i : i; var s = t.getSeconds(); a = r + "/" + n + "/" + l + " " + o + ":" + i + ":" + (s = ("" + s).length <= 1 ? "0" + s : s) } return a }, convertfecha: function (e) { var a = ""; if (null != e) { var t = new Date(e), r = t.getDate(); r = ("" + r).length <= 1 ? "0" + r : r; var n = t.getMonth() + 1; n = ("" + n).length <= 1 ? "0" + n : n; var l = t.getFullYear(), o = t.getHours(); o = ("" + o).length <= 1 ? "0" + o : o; var i = t.getMinutes(); i = ("" + i).length <= 1 ? "0" + i : i; var s = t.getSeconds(); a = r + NaN + n + "/" + l + " " + o + ":" + i + ":" + (s = ("" + s).length <= 1 ? "0" + s : s) } return a }, devuelvetimejson: function (e) { var a = ""; if (null != e) { var t = new Date(parseInt(e.substr(6))), r = t.getDate(); r = ("" + r).length <= 1 ? "0" + r : r; var n = t.getMonth() + 1; n = ("" + n).length <= 1 ? "0" + n : n; t.getFullYear(); var l = t.getHours(); l = ("" + l).length <= 1 ? "0" + l : l; var o = t.getMinutes(); o = ("" + o).length <= 1 ? "0" + o : o; var i = t.getSeconds(); a = l + ":" + o + ":" + (i = ("" + i).length <= 1 ? "0" + i : i) } return a }, loading: function (a, t) { var r = void 0 !== t ? t : "Cargando.."; void 0 === a || a ? (e("#loadingmensaje").html(r), e("#loading").modal("show")) : (e("#loadingmensaje").html(""), e("#loading").modal("hide")) }, tableclear: function (a) { var t = void 0 !== a ? a : "Table"; 1 == e("#" + t + "_length").length && e("#" + t).DataTable().destroy() }, verificarnumero: function (e) { e.shiftKey && e.preventDefault(), 46 == e.keyCode || 8 == e.keyCode || 17 == e.keyCode || 86 == e.keyCode || 37 == e.keyCode || 39 == e.keyCode || (e.keyCode < 95 ? (e.keyCode < 48 || e.keyCode > 57) && e.preventDefault() : (e.keyCode < 96 || e.keyCode > 105) && e.preventDefault()) }, llenartable: function (a, t, r, n, l, o, i) { e.fn.DataTable.isDataTable("#" + a) && e("#" + a).DataTable().destroy(), Jloading(!0, "Consultando Afiliaciones ..."), e("#" + a).DataTable({ processing: !0, serverSide: !0, searching: !1, pagingType: "full_numbers", scrollX: l, language: { lengthMenu: "Visualizar _MENU_ ", zeroRecords: "No se encontraron resultados", info: "Mostrar _START_ de _END_ de _TOTAL_ registros", infoEmpty: "No hay registros disponibles", infoFiltered: "(Filtro desde _MAX_ total registros)", emptyTable: "No informacion en la  tabla" }, ajax: { url: t, type: "POST", contentType: "application/json; charset=utf-8", datatype: "json", data: function (e) { var a = JSON.parse(r); return a.prm_tabla = e, JSON.stringify(a) }, dataFilter: function (e) { var a = JSON.parse(e), t = a.d; return o && (t.data = JSON.parse("[" + a.d.data + "]")), i && (Jloading(!1), t.data.length <= 0 && JmsjProcseo("Consulta Afiliaciones", "No se encontraron resultados para los criterios de búsqueda ingresados.")), JSON.stringify(t) }, error: function (e) { Jloading(!1), JmsjError("VALIDACIÓN DE DATOS", "Se ha producido un error, vuelva a realizar el proceso. <br>Si el error persiste comuníquese con el equipo de Soporte.") } }, columns: n }) }, llenartableII: function (a) { var t = new Object; t.idtable = a.idtable, t.url = a.url, t.prmentrada = a.prmentrada, t.columnas = a.columnas, t.ordering = void 0 !== a.ordering && a.ordering, t.scrollH = void 0 !== a.scrollH && a.scrollH, t.tipodatatable = void 0 !== a.tipodatatable && a.tipodatatable, t.msjver = void 0 !== a.msjcabgen && a.msjver, t.msjcarga = void 0 !== a.msjcarga ? a.msjcarga : "Consultando información", t.msjsindatos = void 0 !== a.msjsindatos ? a.msjsindatos : "No se encontraron resultados para los criterios de búsqueda ingresados.", t.msjerror = void 0 !== a.msjerror ? a.msjerror : "Se ha producido un error, vuelva a realizar el proceso. <br>Si el error persiste comuníquese con el equipo de Soporte.", t.msjcabgen = void 0 !== a.msjcabgen ? a.msjcabgen : "", t.msjcaberror = void 0 !== a.msjcaberror ? a.msjcaberror : "VALIDACIÓN DE DATOS", t.msjcabcarga = void 0 !== a.msjcabcarga ? a.msjcabcarga : t.msjcabgen, t.msjcabsindatos = void 0 !== a.msjcabsindatos ? a.msjcabsindatos : t.msjcabgen, e.fn.DataTable.isDataTable("#" + t.idtable) && e("#" + t.idtable).DataTable().destroy(), t.msjver && (Jloading(!1), Jloading(!0, t.msjcarga)), e("#" + t.idtable).DataTable({ processing: !0, serverSide: !0, searching: !0, ordering: t.ordering, pagingType: "full_numbers", scrollX: t.scrollH, language: { lengthMenu: "Visualizar _MENU_ ", zeroRecords: "No se encontraron resultados", info: "Mostrar _START_ de _END_ de _TOTAL_ registros", infoEmpty: "No hay registros disponibles", infoFiltered: "(Filtro desde _MAX_ total registros)", emptyTable: "No informacion en la  tabla" }, ajax: { url: t.url, type: "POST", contentType: "application/json; charset=utf-8", datatype: "json", data: function (e) { var a = JSON.parse(t.prmentrada); return a.prm_tabla = e, JSON.stringify(a) }, dataFilter: function (e) { var a = JSON.parse(e), r = a.d; return t.tipodatatable && (r.data = JSON.parse("[" + a.d.data + "]")), t.msjver && (Jloading(!1), r.data.length <= 0 && JmsjProcseo(t.msjcabsindatos, t.msjsindatos)), JSON.stringify(r) }, error: function (e) { t.msjver && Jloading(!1), JmsjError(t.msjcaberror, t.msjerror) } }, columns: t.columnas }) }, senddata: function (a) { var t = new Object; return t.url = a.url, t.parametros = a.parametros, t.asyn = void 0 !== a.asyn && a.asyn, t.cache = void 0 !== a.cache && a.cache, t.msjerror = void 0 !== a.msjerror ? a.msjerror : "Se ha producido un error, vuelva a realizar el proceso. <br>Si el error persiste comuníquese con el equipo de Soporte.", e.ajax({ type: "POST", url: t.url, contentType: "application/json; charset=utf-8", dataType: "json", data: t.parametros, async: t.asyn, success: function (e) { }, complete: function () { }, error: function (e) { swal({ title: "Error", text: e, type: "warning" }) }, statusCode: { 500: function () { swal({ title: "Error 500", text: t.msjerror, type: "warning" }) }, 404: function () { swal({ title: "Error 404", text: t.msjerror, type: "warning" }) } } }) }, getdata: function (a) { var t = new Object; return t.url = a.url, t.parametros = void 0 !== a.parametros ? a.parametros : [], t.asyn = void 0 !== a.asyn && a.asyn, t.cache = void 0 !== a.cache && a.cache, t.msjerror = void 0 !== a.msjerror ? a.msjerror : "Se ha producido un error, vuelva a realizar el proceso. Si el error persiste comuníquese con el equipo de Soporte.", e.ajax({ type: "POST", url: t.url, contentType: "application/json; charset=utf-8", dataType: "json", data: t.parametros, async: t.asyn, cache: t.cache, success: function (e) { }, complete: function () { }, error: function (e) { swal({ title: "Error", text: e, type: "warning" }) }, statusCode: { 500: function () { swal({ title: "Error 500", text: t.msjerror, type: "warning" }) }, 404: function () { swal({ title: "Error 404", text: t.msjerror, type: "warning" }) } } }) }, parsefechajson: function (e) { var a = ""; if (null != e) { var t = new Date(parseInt(e.substr(6))), r = t.getDate(); r = ("" + r).length <= 1 ? "0" + r : r; var n = t.getMonth() + 1; n = ("" + n).length <= 1 ? "0" + n : n; var l = t.getFullYear(), o = t.getHours(); o = ("" + o).length <= 1 ? "0" + o : o; var i = t.getMinutes(); i = ("" + i).length <= 1 ? "0" + i : i; var s = t.getSeconds(); s = ("" + s).length <= 1 ? "0" + s : s, a = l + "-" + n + "-" + r } return a }, ErrorAlert: function (e) { swal({ title: "Error", text: e, type: "warning", allowOutsideClick: !1, allowEscapeKey: !1 }), console.log(e) }, AdvertenciaAlert: function (e, a) { swal({ title: e, text: a, type: "warning", allowOutsideClick: !1, allowEscapeKey: !1, html: a }) }, SuccessAlert: function (e, a) { swal({ title: void 0 !== a ? a : "Dar click en el boton!", text: e, type: "success", allowOutsideClick: !1, allowEscapeKey: !1 }) }, GetArchivo: function (e) { var a = [{ tipo: "excel", ext: ".xls, .xlsx", icon: "fa fa-file-excel-o" }, { tipo: "word", ext: ".docm, .docx", icon: "fa fa-file-word-o" }, { tipo: "powerpoint", ext: ".pptx", icon: "fa fa-file-powerpoint-o" }, { tipo: "pdf", ext: ".pdf", icon: "fa fa-file-pdf-o" }, { tipo: "imagen", ext: "image", icon: "fa fa-file-image-o" }, { tipo: "codigo", ext: "", icon: "fa fa-file-code-o" }, { tipo: "txt", ext: ".txt", icon: "fa fa-file-text-o" }, { tipo: "zip", ext: ".zip", icon: "fa fa-file-zip-o" }, { tipo: "correo", ext: ".msg", icon: "fa fa-envelope-o" }]; return void 0 !== e ? a.filter(function (a) { return a.tipo == e }) : a }, isValidUrl: function (e, a, t) { if (null == a && (a = 0), null == t && (t = 0), "" == e && 0 == a) return !0; if (t) var r = /^(http|https|ftp)\:\/\/[a-z0-9\.-]+\.[a-z0-9]{2,4}/gi; else r = /^(http|https)\:\/\/[a-z0-9\.-]+\.[a-z0-9]{2,4}/gi; return !!e.match(r) }, GetAppUrl: function (a) { var t = [{ name: "app", url: window.location.origin, data: [{ name: "maquinaria", url: "Maquinaria", data: [{ name: "maquinaria", url: "FormMMaquinaria.aspx", data: [{ name: "listar", url: "ObtenerListaMaquinaria", data: null }, { name: "delete", url: "ElimnarMaquinaria", data: null }, { name: "agregar", url: "RegistrarMaquinaria", data: null }, { name: "almacen", url: "ObtenerListaAlmacen", data: null }, { name: "categoria", url: "ObtenerListaMaquinariaCategoria", data: null }, { name: "propiedad", url: "ObtenerListaPropiedad", data: null }] }, { name: "implemento", url: "FormMImplementos.aspx", data: [{ name: "listar", url: "ImplementoObtenerTodo", data: null }, { name: "agregar", url: "ImplementoInsert", data: null }, { name: "delete", url: "ImplementoDelete", data: null }, { name: "almacen", url: "ObtenerListaAlmacen", data: null }, { name: "propiedad", url: "ObtenerListaPropiedad", data: null }] }, { name: "categoria", url: "FormMMaquinariaCategoria.aspx", data: [{ name: "listar", url: "MaquinariaCategoriaObtenerTodo", data: null }, { name: "agregar", url: "MaquinariaCategoriaInsert", data: null }, { name: "delete", url: "MaquinariaCategoriaDelete", data: null }] }, { name: "insumo", url: "FormMInsumos.aspx", data: [{ name: "listar", url: "InsumoObtenerTodo", data: null }, { name: "agregar", url: "InsumoInsert", data: null }, { name: "delete", url: "InsumoDelete", data: null }, { name: "categoria", url: "Categoria_ObtenerTodo", data: null }, { name: "unidadmedida", url: "UnidadMedida_ObtenerTodo", data: null }] }] }, { name: "alquiler", url: "Alquiler", data: [{ name: "mant", url: "FormAAlquilerMant.aspx", data: [{ name: "tipos", url: "AlquilerDetalleTipo_Listar", data: null }, { name: "maquinarias", url: "Maquinaria_Listar", data: null }, { name: "implementos", url: "Implemento_Listar", data: null }, { name: "trabajadores", url: "Trabajador_Listar", data: null }, { name: "clientes", url: "ObtenerListaClientes", data: null }, { name: "guardar", url: "Alquiler_Insert", data: null }, { name: "obtener", url: "AlquilerDetalle_Obtener", data: null }, { name: "insertdetalle", url: "AlquilerDetalle_Insert", data: null }, { name: "deletedetalle", url: "AlquilerDetalle_Delete", data: null }, { name: "changedetalle", url: "AlquilerDetalle_Change", data: null }, { name: "alquiler", url: "Alquiler_Obtener", data: null }] }, { name: "alq", url: "FormAAlquiler.aspx", data: [{ name: "listar", url: "Alquiler_ObtenerTodo", data: null }, { name: "delete", url: "Alquiler_Delete", data: null }, { name: "atender", url: "Alquiler_Atender", data: null }] }, { name: "diario", url: "FormAAlquilerIngresoDiario.aspx", data: [{ name: "listar", url: "AlquilerDetalleDiario_Obtener", data: null }, { name: "insert", url: "AlquilerDetalleDiario_Insert", data: null }, { name: "delete", url: "AlquilerDetalleDiario_Delete", data: null }] }] }, { name: "compra", url: "Compra", data: [{ name: "reporte", url: "FormCCompraReporte.aspx", data: [{ name: "proveedor", url: "ObtenerListaProveedores", data: null }] }] }] }], r = a.indexOf("/"), n = ""; if (-1 == r) { var l = a.split("."); e.each(l, function (e, a) { var r = t.filter(function (e) { return e.name == a }); void 0 !== (r = r[0]) ? (n = n + (e > 0 ? "/" : "") + r.url, t = r.data) : console.log("No se encontro la directiva : " + a) }) } else n = a; return n }, ActivaMenu: function (a) { var t = e.extend({ contenedor: null, menu: null }, a); return null !== t.contenedor && (e("#" + t.contenedor).attr("class", "active"), e("#" + t.contenedor + " ul").attr("class", "nav nav-second-level collapse in")), null !== t.menu && e("#" + t.menu).attr("class", "active"), t }, LoaderAlert: function (a) { var t = e.extend({ html: "Procesando Informacion ...", title: "" }, a); return swal({ title: t.title, html: t.html, allowOutsideClick: !1, allowEscapeKey: !1, showConfirmButton: !1, onBeforeOpen: () => { Swal.showLoading() } }) }, GetEntidad: function (a) { var t = e.extend({ name: "", title: null, type: null }, a), r = new Object; return null === t.type || void 0 === t.type ? e("form[data-entidad=" + t.name + "]").each(function (a, t) { e(this).find("input[data-property]").each(function (a, t) { r[e(this).data("property")] = e(this).val() }), e(this).find("select[data-property]").each(function (a, t) { var n = e(this).find(":selected").data("value"), l = e(this).val(); n = void 0 !== n ? n : "0" === l ? null : l, r[e(this).data("property")] = n }) }) : r = e("form[data-entidad=" + t.name + "]").data("value"), r }, SetEntidad: function (a) { var t = e.extend({ name: "", data: null, type: null }, a); e("form[data-entidad=" + t.name + "]").data("value", t.data); new Object; for (var r in t.data) if (t.data.hasOwnProperty(r)) if ("[object Object]" === Object.prototype.toString.call(t.data[r])) for (var n in t.data[r]) t.data[r].hasOwnProperty(n) && (0 == n.indexOf("id") && "id" + r == n || 0 == n.indexOf("Id") && "Id" + r == n || 0 == n.indexOf("ID") && "ID" + r == n || 0 == n.indexOf("id") ? e("select[data-property=" + r + "]").val(t.data[r][n]) : e("label[data-property=" + r + "-" + n + "]").text(t.data[r][n])); else e("input[data-property=" + r + "]").val(t.data[r]), e("label[data-property=" + r + "]").text(t.data[r]); return t.data }, ClearEntidad: function (a) { var t = e.extend({ name: "", title: null, type: null }, a); e("span[data-error=" + t.name + "]").remove(), e(".form-group").removeClass("has-error"); var r = new Object; return e("form[data-entidad=" + t.name + "]").each(function (a, t) { e(this).find("input[data-property]").each(function (a, t) { -1 == e(this).data("property").indexOf("id") ? e(this).val("") : e(this).val("0") }), e(this).find("select[data-property]").each(function (a, t) { e(this).val(0) }) }), r }, ValidateEntidad: function (a) { var t = e.extend({ name: "", property: null, type: null, exo: [] }, a), r = (new Object, !0); return e("span[data-error=" + t.name + "]").remove(), e(".form-group").removeClass("has-error"), e("form[data-entidad=" + t.name + "]").each(function (a, n) { e(this).find("input[data-property]").each(function (a, n) { "" == e(this).val() && (r = !1, e(this).parent("div").parent("div[class=form-group]").addClass("has-error"), e(this).parent("div").append(e("<span data-error='" + t.name + "'></span>").text("Debe ingresar : " + e(this).data("property")))) }), e(this).find("select[data-property]").each(function (a, n) { var l = e(this).val(); 0 == Number(l) && (r = !1, e(this).parent("div").parent("div[class=form-group]").addClass("has-error"), e(this).parent("div").append(e("<span data-error='" + t.name + "'></span>").text("Debe ingresar : " + e(this).data("property")))) }) }), r } }, JmsjError = function (a, t) { e.Util.msjError(a, t) }, JmsjProcseo = function (a, t) { e.Util.msjProcseo(a, t) }, Jformatofecha = function (a) { return e.Util.formatofecha(a) }, Jverificarfecha = function (a) { return e.Util.verificarfecha(a) }, Jpaginador = function (a, t, r) { return e.Util.paginador(a, t, r) }, JverificarNumber = function (a) { return e.Util.verificarNumber(a) }, JverificarfechaII = function (a) { return e.Util.verificarfechaII(a) }, Jverificarrangofechas = function (a, t) { return e.Util.verificarrangofechas(a, t) }, Jdevuelvefechajson = function (a) { return e.Util.devuelvefechajson(a) }, Jconvertfecha = function (a) { return e.Util.convertfecha(a) }, Jdevuelvetimejson = function (a) { return e.Util.devuelvetimejson(a) }, Jloading = function (a, t) { return e.Util.loading(a, t) }, JDatatableclear = function (a) { return e.Util.tableclear(a) }, Jingresonumero = function (a) { return e.Util.verificarnumero(a) }, JDatatablenew = function (a, t, r, n, l, o, i) { return e.Util.llenartable(a, t, r, n, l, o, i) }, JUtilDatatable = function (a) { return e.Util.llenartableII(a) }, JUtilSend = function (a) { return e.Util.senddata(a) }, JUtilGet = function (a) { return e.Util.getdata(a) }, JParseFechaJson = function (a) { return e.Util.parsefechajson(a) }, JErrorAlert = function (a) { return e.Util.ErrorAlert(a) }, JAdvertenciaAlert = function (a, t) { return e.Util.AdvertenciaAlert(a, t) }, JSuccessAlert = function (a, t) { return e.Util.SuccessAlert(a, t) }, JGetTypeFile = function (a) { return e.Util.GetArchivo(a) }, JIsValidUrl = function (a, t, r) { return e.Util.isValidUrl(a, t, r) }, JGetAppUrl = function (a) { return e.Util.GetAppUrl(a) }, JActivaMenu = function (a) { return e.Util.ActivaMenu(a) }, JGetEntidad = function (a) { return e.Util.GetEntidad(a) }, JSetEntidad = function (a) { return e.Util.SetEntidad(a) }, JClearEntidad = function (a) { return e.Util.ClearEntidad(a) }, JValidateEntidad = function (a) { return e.Util.ValidateEntidad(a) }, JLoaderAlert = function (a) { return e.Util.LoaderAlert(a) } }(jQuery), function (e) { e.fn.LoadTagtableUrl = function (a) { var t = this, r = e.extend({ title: "Formulario", parametros: null, url: "", row: { data: null, column: [], showedit: !1, showdelete: !1, table: t, tableconf: a }, tagdata: "rc_data" }, a), n = { url: JGetAppUrl(r.url), parametros: r.parametros }; return JUtilGet(n).success(function (n) { e.fn.DataTable.isDataTable(t) && t.DataTable().destroy(), t.find("tbody").html(""), e.each(n.d, function (e, n) { r.row.data = n, r.row.num = e, r.row.table = t, r.row.tableconf = a, t.find("tbody").add_row(r.row) }) }), t }, e.fn.LoadTagSelectUrl = function (a) { var t = this, r = e.extend({ parametros: null, url: "", value: "", text: "", tagdata: "rc_data" }, a), n = { url: JGetAppUrl(r.url), parametros: JSON.stringify({ parametros: r.parametros }) }; return JUtilGet(n).success(function (a) { t.html(""), e.each(a, function (a, n) { var l = r.text.split("+"), o = ""; e.each(l, function (e, a) { o = o + n[a] + " " }), t.append(e("<option value='" + n[r.value] + "'>" + o + "</option>").data("value", n)) }) }), t }, e.fn.GetTagSelected = function () { var e = this.find(":selected").data("value"), a = this.val(); return e = void 0 !== e ? e : a }, e.fn.add_row = function (a) { var t = this, r = e.extend({ showedit: !1, showdelete: !1, showselect: !1, urldelete: "", clickdelete: function (t) { var r = e(this).data("value"); (new Object)[r.__type] = r; var n = { url: JGetAppUrl(a.urldelete), parametros: JSON.stringify({ _entidad: r }) }; return swal({ title: "¿Seguro de Eliminar?", text: "La " + a.tableconf.title + " se eliminará de lista!", type: "warning", showCancelButton: !0, confirmButtonColor: "#DD6B55", confirmButtonText: "Si, Eliminar!", cancelButtonText: "No, cancelar!" }).then(e => { e.value && JUtilSend(n).success(function (e) { e.d.estado ? (JSuccessAlert(e.d.descripcion), a.table.LoadTagtableUrl(a.tableconf).jstable({ buttons: !1 })) : JErrorAlert(e.d.descripcion) }) }), r }, urledit: "", entidadedit: "", clickedit: function (e) { return e }, clickselect: function (e) { return e }, tagdata: "rc_data", column: [{ name: "", type: "text", validate: "", id: "", text: "", data: "" }], data: null, num: 0, table: null, tableconf: null, buttonsconst: null }, a); if (null !== a.data || "object" != typeof a) { var n = !0, l = (JSON.stringify(a.data), e("<tr></tr>").data("value", a.data)); if (r.num = 0 === r.num ? t.find("tbody").find("tr").length : r.num, l.attr("data-row", r.num), e.each(a.column, function (a, o) { var i = o.name.split("."), s = r.data; if ("" !== o.data && void 0 !== o.data || e.each(i, function (e, a) { s = s[a] }), "text" === o.type || void 0 === o.type) { var d = e("<td></td>"); if (null !== s) if (void 0 !== o.text && "" !== o.text) { var u = o.text.split("+"), c = ""; e.each(u, function (e, a) { void 0 !== s[a] && (c = c + s[a] + " ") }), d.html(c) } else d.html(s); d.attr("data-name", o), d.attr("data-col", a), d.attr("data-row", r.num), l.append(d) } else if ("list" === o.type) { var p = e("<select></select>"); p.addClass("chosen-select"), e.each(s, function (a, t) { var r = o.text.split("+"), n = ""; e.each(r, function (e, a) { n = n + t[a] + " " }); var l = e("<option></option>"); l.text(n), l.attr("id", t[o.id]), l.data("value", t), p.append(l) }); var f = e("<td></td>").append(p); l.append(f) } else if ("decimal" === o.type) { var m = e("<input type='text'/>"); m.val(s); var g = e("<td></td>").append(m); l.append(g) } else if ("auto" === o.type) { var v = t.find("tbody").find("tr").length, h = e("<td></td>").html(v + Number(s)); l.append(h) } else if ("datec" === o.type) { var b = e("<td></td>").html(Jdevuelvefechajson(s)); l.append(b) } else if ("val" === o.type) { var y = e("<td></td>").html(o.data); l.append(y) } s != o.validate && n && void 0 !== o.validate && (n = !1) }), r.showedit || r.showdelete || r.showselect) if (n) { var o = e("<div></div>"); if (o.addClass("form-group"), o.css("margin-bottom", "0px"), r.showdelete) { var i = e("<a title='Eliminar fila'  ></a>").data("value", r.data); i.addClass("btn btn-danger btn-sm btneliminar"), i.append("<i class='fa fa-trash-o'></i>"), i.on("click", r.clickdelete), i.attr("data-row", r.num), o.append(i) } if (r.showedit) { var s = e("<a title='Editar fila' ></a>").data("value", r.data); s.addClass("btn btn-success btn-sm btneditar"), s.append("<i class='fa fa-pencil'></i>"), s.on("click", r.clickedit), s.attr("data-row", r.num), o.append(s) } if (r.showselect) { var d = e("<input type='radio' name='selecionar'/>").data("value", r.data); d.on("click", r.clickselect), d.attr("data-row", r.num), o.append(d) } l.append(e("<td style='text-align: center'></td>").append(o)) } else l.append(e("<td style='text-align: center'></td>").text("No cuenta con acciones")); else null !== a.buttonsconst && void 0 !== a.buttonsconst && l.append(e("<td style='text-align: center'></td>").append(a.buttonsconst)); null !== r.table ? this.append(function () { return l }) : e(this).find("tbody").append(function () { return l }) } return this }, e.fn.jstable = function (a) { var t = e.extend({ pageLength: 10, btnexcel: "ExampleFile", btnpdf: "ExampleFile", searching: !0, buttons: !1, lengthChange: !0 }, a); e.fn.DataTable.isDataTable(this) && this.DataTable().destroy(); var r = []; return t.buttons && (r = [{ extend: "excel", title: t.btnexcel }, { extend: "pdf", title: t.btnpdf }, { extend: "print", customize: function (a) { e(a.document.body).find(".lblacciones").css("display", "none"), e(a.document.body).addClass("white-bg"), e(a.document.body).css("font-size", "10px"), e(a.document.body).find("table").addClass("compact").css("font-size", "inherit") } }]), this.DataTable({ pageLength: t.pageLength, lengthChange: t.lengthChange, responsive: !0, dom: '<"html5buttons"B>lTfgitp', buttons: r, searching: t.searching, language: { decimal: "", emptyTable: "No se encontró información en la tabla", info: "Mostrar _START_ de _END_ de _TOTAL_ registros", infoEmpty: "No hay registros disponibles", infoFiltered: "(filtrar desde _MAX_ total registros)", infoPostFix: "", thousands: ",", lengthMenu: " Ver _MENU_ registros", loadingRecords: "Cargando...", processing: "Procesando...", search: "Buscar:", zeroRecords: "No se encontraron coincidencias", paginate: { first: "Primero", last: "Ultimo", next: ">", previous: "<" }, aria: { sortAscending: ": Ordenamiento ascendente activado", sortDescending: ": Ordenamiento descendente activado" } } }).draw(), this }, e.fn.jstableServer = function (a) { var t = this, r = {}, n = e.extend({ pageLength: 10, btnexcel: "ExampleFile", btnpdf: "ExampleFile", searching: !0, buttons: !1, lengthChange: !0, pagestart: 0, scrollY: "", scrollX: !1, ordering: !0, order: [], stylebtn: !0, serverSide: !1, fixedColumns: !1, columns: [], url: "", prmentrada: [] }, a); e.fn.DataTable.isDataTable(t) && t.DataTable().destroy(); var l = []; n.buttons && (l = [{ extend: "excel", title: n.btnexcel }, { extend: "pdf", title: n.btnpdf }, { extend: "print", customize: function (a) { e(a.document.body).find(".lblacciones").css("display", "none"), e(a.document.body).addClass("white-bg"), e(a.document.body).css("font-size", "10px"), e(a.document.body).find("table").addClass("compact").css("font-size", "inherit") } }]); n.stylebtn && (r.dom = "frtip"), r.language = { sProcessing: "Procesando...", sLengthMenu: "Mostrar _MENU_ registros", sZeroRecords: "No se encontraron resultados", sEmptyTable: "Ningún dato disponible en esta tabla", sInfo: "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros", sInfoEmpty: "Mostrando registros del 0 al 0 de un total de 0 registros", sInfoFiltered: "(filtrado de un total de _MAX_ registros)", sInfoPostFix: "", sSearch: "Buscar:", sUrl: "", sInfoThousands: ",", sLoadingRecords: "Cargando...", oPaginate: { sFirst: "Primero", sLast: "Último", sNext: "Siguiente", sPrevious: "Anterior" }, oAria: { sSortAscending: ": Activar para ordenar la columna de manera ascendente", sSortDescending: ": Activar para ordenar la columna de manera descendente" } }, r.searching = n.searching, n.buttons && (r.buttons = l), n.pagestart > 0 && (r.initComplete = function (e) { this.fnPageChange(n.pagestart) }), "" !== n.scrollY ? (r.scrollY = n.scrollY, r.scrollCollapse = !0, r.paging = !1) : (r.pageLength = n.pageLength, r.lengthChange = n.lengthChange), n.scrollX && (r.scrollX = !0), n.ordering ? n.order.length > 0 && (r.order = n.order) : r.ordering = n.ordering, n.fixedColumns && (r.fixedColumns = !0), n.serverSide && (r.processing = !0, r.serverSide = !0, r.ajax = { url: n.url, type: "POST", contentType: "application/json; charset=utf-8", datatype: "json", data: function (e) { let a = {}; return console.log(), "" != n.prmentrada ? ((a = n.prmentrada).prm_tabla = e, void 0 !== n.prmentrada.IdFiltro && (a.prm_tabla.IdFiltro = n.prmentrada.IdFiltro), JSON.stringify(a.prm_tabla)) : (a = e, JSON.stringify(a)) }, dataFilter: function (e) { var a = JSON.parse(e); return a.recordsTotal = Number(a.recordsTotal), a.recordsFiltered = Number(a.recordsFiltered), t.data("datatable", a), JSON.stringify(a) }, error: function (e) { console.log(e) } }, r.columns = n.columns); var o = t.DataTable(r); return n.serverSide && (e(".dataTables_filter input").keydown().off(), e(".dataTables_filter input").keydown(function (a) { 13 === a.which && o.search(e(this).val()).draw() }).on()), o }, e.fn.LoadTagSelect = function (a) { var t = this, r = e.extend({ data: [], value: "", text: "" }, a); return t.html(""), e.each(r.data, function (a, n) { var l = r.text.split("+"), o = ""; e.each(l, function (e, a) { o = o + n[a] + " " }), t.append(e("<option value='" + n[r.value] + "'>" + o + "</option>").data("value", n)) }), t } }(jQuery);